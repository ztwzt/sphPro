{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/*!\n * Vue-Lazyload.js v1.3.5\n * (c) 2023 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\nvar assignSymbols$1 = createCommonjsModule(function (module) {\n  var toString = Object.prototype.toString;\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var getSymbols = Object.getOwnPropertySymbols;\n  module.exports = function (target) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (!isObject(target)) {\n      throw new TypeError('expected the first argument to be an object');\n    }\n    if (args.length === 0 || typeof Symbol !== 'function' || typeof getSymbols !== 'function') {\n      return target;\n    }\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n    try {\n      for (var _iterator = args[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var arg = _step.value;\n        var names = getSymbols(arg);\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n        try {\n          for (var _iterator2 = names[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var key = _step2.value;\n            if (isEnumerable.call(arg, key)) {\n              target[key] = arg[key];\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n    return target;\n  };\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]' || Array.isArray(val);\n  }\n});\nvar assignSymbols$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  'default': assignSymbols$1,\n  __moduleExports: assignSymbols$1\n});\nvar assignSymbols = assignSymbols$2 && assignSymbols$1 || assignSymbols$2;\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar assignDeep = createCommonjsModule(function (module) {\n  var toString = Object.prototype.toString;\n  var isValidKey = function isValidKey(key) {\n    return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n  };\n  var assign = module.exports = function (target) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    var i = 0;\n    if (isPrimitive(target)) target = args[i++];\n    if (!target) target = {};\n    for (; i < args.length; i++) {\n      if (isObject(args[i])) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n          for (var _iterator = Object.keys(args[i])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var key = _step.value;\n            if (isValidKey(key)) {\n              if (isObject(target[key]) && isObject(args[i][key])) {\n                assign(target[key], args[i][key]);\n              } else {\n                target[key] = args[i][key];\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n        assignSymbols(target, args[i]);\n      }\n    }\n    return target;\n  };\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]';\n  }\n  function isPrimitive(val) {\n    return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' ? val === null : typeof val !== 'function';\n  }\n});\nvar inBrowser = typeof window !== 'undefined' && window !== null;\nvar hasIntersectionObserver = checkIntersectionObserver();\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function get() {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\nvar modeType = {\n  event: 'event',\n  observer: 'observer'\n\n  // CustomEvent polyfill for IE\n};\nvar CustomEvent = function () {\n  if (!inBrowser) return;\n  // not IE\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n  function CustomEvent(event, params) {\n    params = params || {\n      bubbles: false,\n      cancelable: false,\n      detail: undefined\n    };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  var index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\nfunction some(arr, fn) {\n  var has = false;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n  return has;\n}\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n  var options = el.getAttribute('data-srcset');\n  var result = [];\n  var container = el.parentNode;\n  var containerWidth = container.offsetWidth * scale;\n  var spaceIndex = void 0;\n  var tmpSrc = void 0;\n  var tmpWidth = void 0;\n  options = options.trim().split(',');\n  options.map(function (item) {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  var bestSelectedSrc = '';\n  var tmpOption = void 0;\n  for (var i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    var next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n  return bestSelectedSrc;\n}\nfunction find(arr, fn) {\n  var item = void 0;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n  return item;\n}\nvar getDPR = function getDPR() {\n  var scale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return inBrowser ? window.devicePixelRatio || scale : scale;\n};\nfunction supportWebp() {\n  if (!inBrowser) return false;\n  var support = true;\n  try {\n    var elem = document.createElement('canvas');\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n  return support;\n}\nfunction throttle(action, delay) {\n  var timeout = null;\n  var movement = null;\n  var lastRun = 0;\n  var needRun = false;\n  return function () {\n    needRun = true;\n    if (timeout) {\n      return;\n    }\n    var elapsed = Date.now() - lastRun;\n    var context = this;\n    var args = arguments;\n    var runCallback = function runCallback() {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n    if (needRun) {\n      clearTimeout(movement);\n      movement = setTimeout(runCallback, 2 * delay);\n    }\n  };\n}\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  var support = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n  return support;\n}\nvar supportsPassive = testSupportsPassive();\nvar _ = {\n  on: function on(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off: function off(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    el.removeEventListener(type, func, capture);\n  }\n};\nvar loadImageAsync = function loadImageAsync(item, resolve, reject) {\n  var image = new Image();\n  if (!item || !item.src) {\n    var err = new Error('image src is required');\n    return reject(err);\n  }\n  image.src = item.src;\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\nvar style = function style(el, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\nvar overflow = function overflow(el) {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\nvar scrollParent = function scrollParent(el) {\n  if (!inBrowser) return;\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n  var parent = el;\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n    if (!parent.parentNode) {\n      break;\n    }\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n    parent = parent.parentNode;\n  }\n  return window;\n};\nfunction isObject(obj) {\n  return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    var keys = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  }\n}\nfunction ArrayFrom(arrLike) {\n  var len = arrLike.length;\n  var list = [];\n  for (var i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n  return list;\n}\nfunction noop() {}\nvar ImageCache = function () {\n  function ImageCache(_ref) {\n    var max = _ref.max;\n    classCallCheck(this, ImageCache);\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n  createClass(ImageCache, [{\n    key: 'has',\n    value: function has(key) {\n      return this._caches.indexOf(key) > -1;\n    }\n  }, {\n    key: 'add',\n    value: function add(key) {\n      if (this.has(key)) return;\n      this._caches.push(key);\n      if (this._caches.length > this.options.max) {\n        this.free();\n      }\n    }\n  }, {\n    key: 'free',\n    value: function free() {\n      this._caches.shift();\n    }\n  }]);\n  return ImageCache;\n}();\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\nvar ReactiveListener = function () {\n  function ReactiveListener(_ref) {\n    var el = _ref.el,\n      src = _ref.src,\n      error = _ref.error,\n      loading = _ref.loading,\n      bindType = _ref.bindType,\n      $parent = _ref.$parent,\n      options = _ref.options,\n      cors = _ref.cors,\n      elRenderer = _ref.elRenderer,\n      imageCache = _ref.imageCache;\n    classCallCheck(this, ReactiveListener);\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n    this.options = options;\n    this.rect = null;\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\r\n   * init listener state\r\n   * @return\r\n   */\n\n  createClass(ReactiveListener, [{\n    key: 'initState',\n    value: function initState() {\n      if ('dataset' in this.el) {\n        this.el.dataset.src = this.src;\n      } else {\n        this.el.setAttribute('data-src', this.src);\n      }\n      this.state = {\n        loading: false,\n        error: false,\n        loaded: false,\n        rendered: false\n      };\n    }\n\n    /*\r\n     * record performance\r\n     * @return\r\n     */\n  }, {\n    key: 'record',\n    value: function record(event) {\n      this.performanceData[event] = Date.now();\n    }\n\n    /*\r\n     * update image listener data\r\n     * @param  {String} image uri\r\n     * @param  {String} loading image uri\r\n     * @param  {String} error image uri\r\n     * @return\r\n     */\n  }, {\n    key: 'update',\n    value: function update(_ref2) {\n      var src = _ref2.src,\n        loading = _ref2.loading,\n        error = _ref2.error;\n      var oldSrc = this.src;\n      this.src = src;\n      this.loading = loading;\n      this.error = error;\n      this.filter();\n      if (oldSrc !== this.src) {\n        this.attempt = 0;\n        this.initState();\n      }\n    }\n\n    /*\r\n     * get el node rect\r\n     * @return\r\n     */\n  }, {\n    key: 'getRect',\n    value: function getRect() {\n      this.rect = this.el.getBoundingClientRect();\n    }\n\n    /*\r\n     *  check el is in view\r\n     * @return {Boolean} el is in view\r\n     */\n  }, {\n    key: 'checkInView',\n    value: function checkInView() {\n      this.getRect();\n      return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n    }\n\n    /*\r\n     * listener filter\r\n     */\n  }, {\n    key: 'filter',\n    value: function filter() {\n      var _this = this;\n      ObjectKeys(this.options.filter).map(function (key) {\n        _this.options.filter[key](_this, _this.options);\n      });\n    }\n\n    /*\r\n     * render loading first\r\n     * @params cb:Function\r\n     * @return\r\n     */\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading(cb) {\n      var _this2 = this;\n      this.state.loading = true;\n      loadImageAsync({\n        src: this.loading,\n        cors: this.cors\n      }, function (data) {\n        _this2.render('loading', false);\n        _this2.state.loading = false;\n        cb();\n      }, function () {\n        // handler `loading image` load failed\n        cb();\n        _this2.state.loading = false;\n        if (!_this2.options.silent) console.warn('VueLazyload log: load failed with loading image(' + _this2.loading + ')');\n      });\n    }\n\n    /*\r\n     * try load image and  render it\r\n     * @return\r\n     */\n  }, {\n    key: 'load',\n    value: function load() {\n      var _this3 = this;\n      var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n      if (this.attempt > this.options.attempt - 1 && this.state.error) {\n        if (!this.options.silent) console.log('VueLazyload log: ' + this.src + ' tried too more than ' + this.options.attempt + ' times');\n        onFinish();\n        return;\n      }\n      if (this.state.rendered && this.state.loaded) return;\n      if (this._imageCache.has(this.src)) {\n        this.state.loaded = true;\n        this.render('loaded', true);\n        this.state.rendered = true;\n        return onFinish();\n      }\n      this.renderLoading(function () {\n        _this3.attempt++;\n        _this3.options.adapter['beforeLoad'] && _this3.options.adapter['beforeLoad'](_this3, _this3.options);\n        _this3.record('loadStart');\n        loadImageAsync({\n          src: _this3.src,\n          cors: _this3.cors\n        }, function (data) {\n          _this3.naturalHeight = data.naturalHeight;\n          _this3.naturalWidth = data.naturalWidth;\n          _this3.state.loaded = true;\n          _this3.state.error = false;\n          _this3.record('loadEnd');\n          _this3.render('loaded', false);\n          _this3.state.rendered = true;\n          _this3._imageCache.add(_this3.src);\n          onFinish();\n        }, function (err) {\n          !_this3.options.silent && console.error(err);\n          _this3.state.error = true;\n          _this3.state.loaded = false;\n          _this3.render('error', false);\n        });\n      });\n    }\n\n    /*\r\n     * render image\r\n     * @param  {String} state to render // ['loading', 'src', 'error']\r\n     * @param  {String} is form cache\r\n     * @return\r\n     */\n  }, {\n    key: 'render',\n    value: function render(state, cache) {\n      this.elRenderer(this, state, cache);\n    }\n\n    /*\r\n     * output performance data\r\n     * @return {Object} performance data\r\n     */\n  }, {\n    key: 'performance',\n    value: function performance() {\n      var state = 'loading';\n      var time = 0;\n      if (this.state.loaded) {\n        state = 'loaded';\n        time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n      }\n      if (this.state.error) state = 'error';\n      return {\n        src: this.src,\n        state: state,\n        time: time\n      };\n    }\n\n    /*\r\n     * $destroy\r\n     * @return\r\n     */\n  }, {\n    key: '$destroy',\n    value: function $destroy() {\n      this.el = null;\n      this.src = null;\n      this.error = null;\n      this.loading = null;\n      this.bindType = null;\n      this.attempt = 0;\n    }\n  }]);\n  return ReactiveListener;\n}();\nvar DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\nfunction Lazy(Vue) {\n  return function () {\n    function Lazy(_ref) {\n      var preLoad = _ref.preLoad,\n        error = _ref.error,\n        throttleWait = _ref.throttleWait,\n        preLoadTop = _ref.preLoadTop,\n        dispatchEvent = _ref.dispatchEvent,\n        loading = _ref.loading,\n        attempt = _ref.attempt,\n        _ref$silent = _ref.silent,\n        silent = _ref$silent === undefined ? true : _ref$silent,\n        scale = _ref.scale,\n        listenEvents = _ref.listenEvents;\n      _ref.hasbind;\n      var filter = _ref.filter,\n        adapter = _ref.adapter,\n        observer = _ref.observer,\n        observerOptions = _ref.observerOptions;\n      classCallCheck(this, Lazy);\n      this.version = '\"1.3.5\"';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this._initEvent();\n      this._imageCache = new ImageCache({\n        max: 200\n      });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\r\n     * update config\r\n     * @param  {Object} config params\r\n     * @return\r\n     */\n\n    createClass(Lazy, [{\n      key: 'config',\n      value: function config() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        assignDeep(this.options, options);\n      }\n\n      /**\r\n       * output listener's load performance\r\n       * @return {Array}\r\n       */\n    }, {\n      key: 'performance',\n      value: function performance() {\n        var list = [];\n        this.ListenerQueue.map(function (item) {\n          list.push(item.performance());\n        });\n        return list;\n      }\n\n      /*\r\n       * add lazy component to queue\r\n       * @param  {Vue} vm lazy component instance\r\n       * @return\r\n       */\n    }, {\n      key: 'addLazyBox',\n      value: function addLazyBox(vm) {\n        this.ListenerQueue.push(vm);\n        if (inBrowser) {\n          this._addListenerTarget(window);\n          this._observer && this._observer.observe(vm.el);\n          if (vm.$el && vm.$el.parentNode) {\n            this._addListenerTarget(vm.$el.parentNode);\n          }\n        }\n      }\n\n      /*\r\n       * add image listener to queue\r\n       * @param  {DOM} el\r\n       * @param  {object} binding vue directive binding\r\n       * @param  {vnode} vnode vue directive vnode\r\n       * @return\r\n       */\n    }, {\n      key: 'add',\n      value: function add(el, binding, vnode) {\n        var _this = this;\n        if (some(this.ListenerQueue, function (item) {\n          return item.el === el;\n        })) {\n          this.update(el, binding);\n          return Vue.nextTick(this.lazyLoadHandler);\n        }\n        var _valueFormatter2 = this._valueFormatter(binding.value),\n          src = _valueFormatter2.src,\n          loading = _valueFormatter2.loading,\n          error = _valueFormatter2.error,\n          cors = _valueFormatter2.cors;\n        Vue.nextTick(function () {\n          src = getBestSelectionFromSrcset(el, _this.options.scale) || src;\n          _this._observer && _this._observer.observe(el);\n          var container = Object.keys(binding.modifiers)[0];\n          var $parent = void 0;\n          if (container) {\n            $parent = vnode.context.$refs[container];\n            // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n            $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n          }\n          if (!$parent) {\n            $parent = scrollParent(el);\n          }\n          var newListener = new ReactiveListener({\n            bindType: binding.arg,\n            $parent: $parent,\n            el: el,\n            loading: loading,\n            error: error,\n            src: src,\n            cors: cors,\n            elRenderer: _this._elRenderer.bind(_this),\n            options: _this.options,\n            imageCache: _this._imageCache\n          });\n          _this.ListenerQueue.push(newListener);\n          if (inBrowser) {\n            _this._addListenerTarget(window);\n            _this._addListenerTarget($parent);\n          }\n          _this.lazyLoadHandler();\n          Vue.nextTick(function () {\n            return _this.lazyLoadHandler();\n          });\n        });\n      }\n\n      /**\r\n      * update image src\r\n      * @param  {DOM} el\r\n      * @param  {object} vue directive binding\r\n      * @return\r\n      */\n    }, {\n      key: 'update',\n      value: function update(el, binding, vnode) {\n        var _this2 = this;\n        var _valueFormatter3 = this._valueFormatter(binding.value),\n          src = _valueFormatter3.src,\n          loading = _valueFormatter3.loading,\n          error = _valueFormatter3.error;\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        var exist = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n        if (!exist) {\n          this.add(el, binding, vnode);\n        } else {\n          exist.update({\n            src: src,\n            loading: loading,\n            error: error\n          });\n        }\n        if (this._observer) {\n          this._observer.unobserve(el);\n          this._observer.observe(el);\n        }\n        this.lazyLoadHandler();\n        Vue.nextTick(function () {\n          return _this2.lazyLoadHandler();\n        });\n      }\n\n      /**\r\n      * remove listener form list\r\n      * @param  {DOM} el\r\n      * @return\r\n      */\n    }, {\n      key: 'remove',\n      value: function remove$1(el) {\n        if (!el) return;\n        this._observer && this._observer.unobserve(el);\n        var existItem = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n        if (existItem) {\n          this._removeListenerTarget(existItem.$parent);\n          this._removeListenerTarget(window);\n          remove(this.ListenerQueue, existItem);\n          existItem.$destroy();\n        }\n      }\n\n      /*\r\n       * remove lazy components form list\r\n       * @param  {Vue} vm Vue instance\r\n       * @return\r\n       */\n    }, {\n      key: 'removeComponent',\n      value: function removeComponent(vm) {\n        if (!vm) return;\n        remove(this.ListenerQueue, vm);\n        this._observer && this._observer.unobserve(vm.el);\n        if (vm.$parent && vm.$el.parentNode) {\n          this._removeListenerTarget(vm.$el.parentNode);\n        }\n        this._removeListenerTarget(window);\n      }\n    }, {\n      key: 'setMode',\n      value: function setMode(mode) {\n        var _this3 = this;\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n          mode = modeType.event;\n        }\n        this.mode = mode; // event or observer\n\n        if (mode === modeType.event) {\n          if (this._observer) {\n            this.ListenerQueue.forEach(function (listener) {\n              _this3._observer.unobserve(listener.el);\n            });\n            this._observer = null;\n          }\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, true);\n          });\n        } else {\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, false);\n          });\n          this._initIntersectionObserver();\n        }\n      }\n\n      /*\r\n      *** Private functions ***\r\n      */\n\n      /*\r\n       * add listener target\r\n       * @param  {DOM} el listener target\r\n       * @return\r\n       */\n    }, {\n      key: '_addListenerTarget',\n      value: function _addListenerTarget(el) {\n        if (!el) return;\n        var target = find(this.TargetQueue, function (target) {\n          return target.el === el;\n        });\n        if (!target) {\n          target = {\n            el: el,\n            id: ++this.TargetIndex,\n            childrenCount: 1,\n            listened: true\n          };\n          this.mode === modeType.event && this._initListen(target.el, true);\n          this.TargetQueue.push(target);\n        } else {\n          target.childrenCount++;\n        }\n        return this.TargetIndex;\n      }\n\n      /*\r\n       * remove listener target or reduce target childrenCount\r\n       * @param  {DOM} el or window\r\n       * @return\r\n       */\n    }, {\n      key: '_removeListenerTarget',\n      value: function _removeListenerTarget(el) {\n        var _this4 = this;\n        this.TargetQueue.forEach(function (target, index) {\n          if (target.el === el) {\n            target.childrenCount--;\n            if (!target.childrenCount) {\n              _this4._initListen(target.el, false);\n              _this4.TargetQueue.splice(index, 1);\n              target = null;\n            }\n          }\n        });\n      }\n\n      /*\r\n       * add or remove eventlistener\r\n       * @param  {DOM} el DOM or Window\r\n       * @param  {boolean} start flag\r\n       * @return\r\n       */\n    }, {\n      key: '_initListen',\n      value: function _initListen(el, start) {\n        var _this5 = this;\n        this.options.ListenEvents.forEach(function (evt) {\n          return _[start ? 'on' : 'off'](el, evt, _this5.lazyLoadHandler);\n        });\n      }\n    }, {\n      key: '_initEvent',\n      value: function _initEvent() {\n        var _this6 = this;\n        this.Event = {\n          listeners: {\n            loading: [],\n            loaded: [],\n            error: []\n          }\n        };\n        this.$on = function (event, func) {\n          if (!_this6.Event.listeners[event]) _this6.Event.listeners[event] = [];\n          _this6.Event.listeners[event].push(func);\n        };\n        this.$once = function (event, func) {\n          var vm = _this6;\n          function on() {\n            vm.$off(event, on);\n            func.apply(vm, arguments);\n          }\n          _this6.$on(event, on);\n        };\n        this.$off = function (event, func) {\n          if (!func) {\n            if (!_this6.Event.listeners[event]) return;\n            _this6.Event.listeners[event].length = 0;\n            return;\n          }\n          remove(_this6.Event.listeners[event], func);\n        };\n        this.$emit = function (event, context, inCache) {\n          if (!_this6.Event.listeners[event]) return;\n          _this6.Event.listeners[event].forEach(function (func) {\n            return func(context, inCache);\n          });\n        };\n      }\n\n      /**\r\n       * find nodes which in viewport and trigger load\r\n       * @return\r\n       */\n    }, {\n      key: '_lazyLoadHandler',\n      value: function _lazyLoadHandler() {\n        var _this7 = this;\n        var freeList = [];\n        this.ListenerQueue.forEach(function (listener, index) {\n          if (!listener.el || !listener.el.parentNode) {\n            freeList.push(listener);\n          }\n          var catIn = listener.checkInView();\n          if (!catIn) return;\n          listener.load();\n        });\n        freeList.forEach(function (item) {\n          remove(_this7.ListenerQueue, item);\n          item.$destroy();\n        });\n      }\n      /**\r\n      * init IntersectionObserver\r\n      * set mode to observer\r\n      * @return\r\n      */\n    }, {\n      key: '_initIntersectionObserver',\n      value: function _initIntersectionObserver() {\n        var _this8 = this;\n        if (!hasIntersectionObserver) return;\n        this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n        if (this.ListenerQueue.length) {\n          this.ListenerQueue.forEach(function (listener) {\n            _this8._observer.observe(listener.el);\n          });\n        }\n      }\n\n      /**\r\n      * init IntersectionObserver\r\n      * @return\r\n      */\n    }, {\n      key: '_observerHandler',\n      value: function _observerHandler(entries, observer) {\n        var _this9 = this;\n        entries.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            _this9.ListenerQueue.forEach(function (listener) {\n              if (listener.el === entry.target) {\n                if (listener.state.loaded) return _this9._observer.unobserve(listener.el);\n                listener.load();\n              }\n            });\n          }\n        });\n      }\n\n      /**\r\n      * set element attribute with image'url and state\r\n      * @param  {object} lazyload listener object\r\n      * @param  {string} state will be rendered\r\n      * @param  {bool} inCache  is rendered from cache\r\n      * @return\r\n      */\n    }, {\n      key: '_elRenderer',\n      value: function _elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        var el = listener.el,\n          bindType = listener.bindType;\n        var src = void 0;\n        switch (state) {\n          case 'loading':\n            src = listener.loading;\n            break;\n          case 'error':\n            src = listener.error;\n            break;\n          default:\n            src = listener.src;\n            break;\n        }\n        if (bindType) {\n          el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute('src') !== src) {\n          el.setAttribute('src', src);\n        }\n        el.setAttribute('lazy', state);\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n        if (this.options.dispatchEvent) {\n          var event = new CustomEvent(state, {\n            detail: listener\n          });\n          el.dispatchEvent(event);\n        }\n      }\n\n      /**\r\n      * generate loading loaded error image url\r\n      * @param {string} image's src\r\n      * @return {object} image's loading, loaded, error url\r\n      */\n    }, {\n      key: '_valueFormatter',\n      value: function _valueFormatter(value) {\n        var src = value;\n        var loading = this.options.loading;\n        var error = this.options.error;\n\n        // value is object\n        if (isObject(value)) {\n          if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n          src = value.src;\n          loading = value.loading || this.options.loading;\n          error = value.error || this.options.error;\n        }\n        return {\n          src: src,\n          loading: loading,\n          error: error\n        };\n      }\n    }]);\n    return Lazy;\n  }();\n}\nLazy.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  var isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy', {\n      bind: lazy.add.bind(lazy),\n      update: lazy.update.bind(lazy),\n      componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n      unbind: lazy.remove.bind(lazy)\n    });\n  } else {\n    Vue.directive('lazy', {\n      bind: lazy.lazyLoadHandler.bind(lazy),\n      update: function update(newValue, oldValue) {\n        assignDeep(this.vm.$refs, this.vm.$els);\n        lazy.add(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind: function unbind() {\n        lazy.remove(this.el);\n      }\n    });\n  }\n};\nvar LazyComponent = function LazyComponent(lazy) {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, null, this.show ? this.$slots.default : null);\n    },\n    data: function data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n    methods: {\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy: function destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\nLazyComponent.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  Vue.component('lazy-component', LazyComponent(lazy));\n};\nvar LazyContainerMananger = function () {\n  function LazyContainerMananger(_ref) {\n    var lazy = _ref.lazy;\n    classCallCheck(this, LazyContainerMananger);\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n  createClass(LazyContainerMananger, [{\n    key: 'bind',\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer({\n        el: el,\n        binding: binding,\n        vnode: vnode,\n        lazy: this.lazy\n      });\n      this._queue.push(container);\n    }\n  }, {\n    key: 'update',\n    value: function update(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({\n        el: el,\n        binding: binding,\n        vnode: vnode\n      });\n    }\n  }, {\n    key: 'unbind',\n    value: function unbind(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n      remove(this._queue, container);\n    }\n  }]);\n  return LazyContainerMananger;\n}();\nvar defaultOptions = {\n  selector: 'img'\n};\nvar LazyContainer = function () {\n  function LazyContainer(_ref2) {\n    var el = _ref2.el,\n      binding = _ref2.binding,\n      vnode = _ref2.vnode,\n      lazy = _ref2.lazy;\n    classCallCheck(this, LazyContainer);\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n    this._queue = [];\n    this.update({\n      el: el,\n      binding: binding\n    });\n  }\n  createClass(LazyContainer, [{\n    key: 'update',\n    value: function update(_ref3) {\n      var _this = this;\n      var el = _ref3.el,\n        binding = _ref3.binding;\n      this.el = el;\n      this.options = assignDeep({}, defaultOptions, binding.value);\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        _this.lazy.add(el, assignDeep({}, _this.binding, {\n          value: {\n            src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n            error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || _this.options.error,\n            loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || _this.options.loading\n          }\n        }), _this.vnode);\n      });\n    }\n  }, {\n    key: 'getImgs',\n    value: function getImgs() {\n      return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var _this2 = this;\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this2.lazy.remove(el);\n      });\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n  return LazyContainer;\n}();\nLazyContainer.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  var lazyContainer = new LazyContainer({\n    lazy: lazy\n  });\n  var isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy-container', {\n      bind: lazyContainer.bind.bind(lazyContainer),\n      componentUpdated: lazyContainer.update.bind(lazyContainer),\n      unbind: lazyContainer.unbind.bind(lazyContainer)\n    });\n  } else {\n    Vue.directive('lazy-container', {\n      update: function update(newValue, oldValue) {\n        lazyContainer.update(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind: function unbind() {\n        lazyContainer.unbind(this.el);\n      }\n    });\n  }\n};\nvar LazyImage = function LazyImage(lazyManager) {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n    watch: {\n      src: function src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created: function created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n    methods: {\n      init: function init() {\n        var _lazyManager$_valueFo = lazyManager._valueFormatter(this.src),\n          src = _lazyManager$_valueFo.src,\n          loading = _lazyManager$_valueFo.loading,\n          error = _lazyManager$_valueFo.error;\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        var _this = this;\n        var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log('VueLazyload log: ' + this.options.src + ' tried too more than ' + this.options.attempt + ' times');\n          onFinish();\n          return;\n        }\n        var src = this.options.src;\n        loadImageAsync({\n          src: src\n        }, function (_ref) {\n          var src = _ref.src;\n          _this.renderSrc = src;\n          _this.state.loaded = true;\n        }, function (e) {\n          _this.state.attempt++;\n          _this.renderSrc = _this.options.error;\n          _this.state.error = true;\n        });\n      }\n    }\n  };\n};\nLazyImage.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  Vue.component('lazy-image', LazyImage(lazy));\n};\nvar index = {\n  /*\r\n  * install function\r\n  * @param  {Vue} Vue\r\n  * @param  {object} options  lazyload options\r\n  */\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var LazyClass = Lazy(Vue);\n    var lazy = new LazyClass(options);\n    var lazyContainer = new LazyContainerMananger({\n      lazy: lazy\n    });\n    var isVue2 = Vue.version.split('.')[0] === '2';\n    Vue.prototype.$Lazyload = lazy;\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update: function update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazy.remove(this.el);\n        }\n      });\n      Vue.directive('lazy-container', {\n        update: function update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\nexport { Lazy, LazyComponent, LazyContainerMananger as LazyContainer, LazyImage, index as default };","map":{"version":3,"names":["createCommonjsModule","fn","module","exports","assignSymbols$1","toString","Object","prototype","isEnumerable","propertyIsEnumerable","getSymbols","getOwnPropertySymbols","target","_len","arguments","length","args","Array","_key","isObject","TypeError","Symbol","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_iterator","iterator","_step","next","done","arg","value","names","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","key","call","err","return","val","isArray","assignSymbols$2","freeze","__proto__","__moduleExports","assignSymbols","_typeof","obj","constructor","classCallCheck","instance","Constructor","createClass","defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","assignDeep","isValidKey","assign","isPrimitive","keys","inBrowser","window","hasIntersectionObserver","checkIntersectionObserver","IntersectionObserverEntry","get","intersectionRatio","modeType","event","observer","CustomEvent","params","bubbles","cancelable","detail","evt","document","createEvent","initCustomEvent","Event","remove","arr","item","index","indexOf","splice","some","has","len","getBestSelectionFromSrcset","el","scale","tagName","getAttribute","options","result","container","parentNode","containerWidth","offsetWidth","spaceIndex","tmpSrc","tmpWidth","trim","split","map","lastIndexOf","substr","parseInt","push","sort","a","b","bestSelectedSrc","tmpOption","find","getDPR","devicePixelRatio","supportWebp","support","elem","createElement","getContext","toDataURL","throttle","action","delay","timeout","movement","lastRun","needRun","elapsed","Date","now","context","runCallback","apply","setTimeout","clearTimeout","testSupportsPassive","opts","addEventListener","e","supportsPassive","_","on","type","func","capture","passive","off","removeEventListener","loadImageAsync","resolve","reject","image","Image","src","Error","cors","crossOrigin","onload","naturalHeight","naturalWidth","onerror","style","prop","getComputedStyle","getPropertyValue","overflow","scrollParent","HTMLElement","parent","body","documentElement","test","ObjectKeys","hasOwnProperty","ArrayFrom","arrLike","list","noop","ImageCache","_ref","max","_caches","add","free","shift","ReactiveListener","error","loading","bindType","$parent","elRenderer","imageCache","attempt","rect","_imageCache","performanceData","init","loadStart","loadEnd","filter","initState","render","dataset","setAttribute","state","loaded","rendered","record","update","_ref2","oldSrc","getRect","getBoundingClientRect","checkInView","top","innerHeight","preLoad","bottom","preLoadTop","left","innerWidth","right","_this","renderLoading","cb","_this2","data","silent","console","warn","load","_this3","onFinish","log","adapter","cache","performance","time","$destroy","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","Lazy","Vue","throttleWait","dispatchEvent","_ref$silent","listenEvents","hasbind","observerOptions","version","mode","ListenerQueue","TargetIndex","TargetQueue","ListenEvents","_initEvent","lazyLoadHandler","_lazyLoadHandler","bind","setMode","config","addLazyBox","vm","_addListenerTarget","_observer","observe","$el","binding","vnode","nextTick","_valueFormatter2","_valueFormatter","modifiers","$refs","getElementById","newListener","_elRenderer","_valueFormatter3","exist","unobserve","remove$1","existItem","_removeListenerTarget","removeComponent","forEach","listener","_initListen","_initIntersectionObserver","id","childrenCount","listened","_this4","start","_this5","_this6","listeners","$on","$once","$off","$emit","inCache","_this7","freeList","catIn","_this8","IntersectionObserver","_observerHandler","entries","_this9","entry","isIntersecting","install","LazyClass","lazy","isVue2","directive","componentUpdated","unbind","newValue","oldValue","$els","LazyComponent","tag","String","default","h","show","$slots","mounted","beforeDestroy","methods","destroy","component","LazyContainerMananger","lazyContainerMananger","_queue","LazyContainer","clear","defaultOptions","selector","_ref3","imgs","getImgs","querySelectorAll","lazyContainer","LazyImage","lazyManager","attrs","renderSrc","watch","created","_lazyManager$_valueFo","$Lazyload","lazyComponent","lazyImage"],"sources":["D:/MyProject/pro_sph/node_modules/vue-lazyload/vue-lazyload.esm.js"],"sourcesContent":["/*!\n * Vue-Lazyload.js v1.3.5\n * (c) 2023 Awe <hilongjw@gmail.com>\n * Released under the MIT License.\n */\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar assignSymbols$1 = createCommonjsModule(function (module) {\n\n  var toString = Object.prototype.toString;\n  var isEnumerable = Object.prototype.propertyIsEnumerable;\n  var getSymbols = Object.getOwnPropertySymbols;\n\n  module.exports = function (target) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    if (!isObject(target)) {\n      throw new TypeError('expected the first argument to be an object');\n    }\n\n    if (args.length === 0 || typeof Symbol !== 'function' || typeof getSymbols !== 'function') {\n      return target;\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = args[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var arg = _step.value;\n\n        var names = getSymbols(arg);\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = names[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var key = _step2.value;\n\n            if (isEnumerable.call(arg, key)) {\n              target[key] = arg[key];\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return target;\n  };\n\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]' || Array.isArray(val);\n  }\n});\n\nvar assignSymbols$2 = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\t'default': assignSymbols$1,\n\t__moduleExports: assignSymbols$1\n});\n\nvar assignSymbols = ( assignSymbols$2 && assignSymbols$1 ) || assignSymbols$2;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar assignDeep = createCommonjsModule(function (module) {\n\n  var toString = Object.prototype.toString;\n\n  var isValidKey = function isValidKey(key) {\n    return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n  };\n\n  var assign = module.exports = function (target) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var i = 0;\n    if (isPrimitive(target)) target = args[i++];\n    if (!target) target = {};\n    for (; i < args.length; i++) {\n      if (isObject(args[i])) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = Object.keys(args[i])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var key = _step.value;\n\n            if (isValidKey(key)) {\n              if (isObject(target[key]) && isObject(args[i][key])) {\n                assign(target[key], args[i][key]);\n              } else {\n                target[key] = args[i][key];\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        assignSymbols(target, args[i]);\n      }\n    }\n    return target;\n  };\n\n  function isObject(val) {\n    return typeof val === 'function' || toString.call(val) === '[object Object]';\n  }\n\n  function isPrimitive(val) {\n    return (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' ? val === null : typeof val !== 'function';\n  }\n});\n\nvar inBrowser = typeof window !== 'undefined' && window !== null;\n\nvar hasIntersectionObserver = checkIntersectionObserver();\n\nfunction checkIntersectionObserver() {\n  if (inBrowser && 'IntersectionObserver' in window && 'IntersectionObserverEntry' in window && 'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n    // Minimal polyfill for Edge 15's lack of `isIntersecting`\n    // See: https://github.com/w3c/IntersectionObserver/issues/211\n    if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n      Object.defineProperty(window.IntersectionObserverEntry.prototype, 'isIntersecting', {\n        get: function get() {\n          return this.intersectionRatio > 0;\n        }\n      });\n    }\n    return true;\n  }\n  return false;\n}\n\nvar modeType = {\n  event: 'event',\n  observer: 'observer'\n\n  // CustomEvent polyfill for IE\n};var CustomEvent = function () {\n  if (!inBrowser) return;\n  // not IE\n  if (typeof window.CustomEvent === 'function') return window.CustomEvent;\n  function CustomEvent(event, params) {\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  }\n  CustomEvent.prototype = window.Event.prototype;\n  return CustomEvent;\n}();\n\nfunction remove(arr, item) {\n  if (!arr.length) return;\n  var index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nfunction some(arr, fn) {\n  var has = false;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      has = true;\n      break;\n    }\n  }\n  return has;\n}\n\nfunction getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n\n  var options = el.getAttribute('data-srcset');\n  var result = [];\n  var container = el.parentNode;\n  var containerWidth = container.offsetWidth * scale;\n\n  var spaceIndex = void 0;\n  var tmpSrc = void 0;\n  var tmpWidth = void 0;\n\n  options = options.trim().split(',');\n\n  options.map(function (item) {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(item.substr(spaceIndex + 1, item.length - spaceIndex - 2), 10);\n    }\n    result.push([tmpWidth, tmpSrc]);\n  });\n\n  result.sort(function (a, b) {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  var bestSelectedSrc = '';\n  var tmpOption = void 0;\n\n  for (var i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    var next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nfunction find(arr, fn) {\n  var item = void 0;\n  for (var i = 0, len = arr.length; i < len; i++) {\n    if (fn(arr[i])) {\n      item = arr[i];\n      break;\n    }\n  }\n  return item;\n}\n\nvar getDPR = function getDPR() {\n  var scale = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return inBrowser ? window.devicePixelRatio || scale : scale;\n};\n\nfunction supportWebp() {\n  if (!inBrowser) return false;\n\n  var support = true;\n\n  try {\n    var elem = document.createElement('canvas');\n\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nfunction throttle(action, delay) {\n  var timeout = null;\n  var movement = null;\n  var lastRun = 0;\n  var needRun = false;\n  return function () {\n    needRun = true;\n    if (timeout) {\n      return;\n    }\n    var elapsed = Date.now() - lastRun;\n    var context = this;\n    var args = arguments;\n    var runCallback = function runCallback() {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(context, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n    if (needRun) {\n      clearTimeout(movement);\n      movement = setTimeout(runCallback, 2 * delay);\n    }\n  };\n}\n\nfunction testSupportsPassive() {\n  if (!inBrowser) return;\n  var support = false;\n  try {\n    var opts = Object.defineProperty({}, 'passive', {\n      get: function get() {\n        support = true;\n      }\n    });\n    window.addEventListener('test', null, opts);\n  } catch (e) {}\n  return support;\n}\n\nvar supportsPassive = testSupportsPassive();\n\nvar _ = {\n  on: function on(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    if (supportsPassive) {\n      el.addEventListener(type, func, {\n        capture: capture,\n        passive: true\n      });\n    } else {\n      el.addEventListener(type, func, capture);\n    }\n  },\n  off: function off(el, type, func) {\n    var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n    el.removeEventListener(type, func, capture);\n  }\n};\n\nvar loadImageAsync = function loadImageAsync(item, resolve, reject) {\n  var image = new Image();\n  if (!item || !item.src) {\n    var err = new Error('image src is required');\n    return reject(err);\n  }\n\n  image.src = item.src;\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n\n  image.onload = function () {\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src\n    });\n  };\n\n  image.onerror = function (e) {\n    reject(e);\n  };\n};\n\nvar style = function style(el, prop) {\n  return typeof getComputedStyle !== 'undefined' ? getComputedStyle(el, null).getPropertyValue(prop) : el.style[prop];\n};\n\nvar overflow = function overflow(el) {\n  return style(el, 'overflow') + style(el, 'overflow-y') + style(el, 'overflow-x');\n};\n\nvar scrollParent = function scrollParent(el) {\n  if (!inBrowser) return;\n  if (!(el instanceof HTMLElement)) {\n    return window;\n  }\n\n  var parent = el;\n\n  while (parent) {\n    if (parent === document.body || parent === document.documentElement) {\n      break;\n    }\n\n    if (!parent.parentNode) {\n      break;\n    }\n\n    if (/(scroll|auto)/.test(overflow(parent))) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return window;\n};\n\nfunction isObject(obj) {\n  return obj !== null && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object';\n}\n\nfunction ObjectKeys(obj) {\n  if (!(obj instanceof Object)) return [];\n  if (Object.keys) {\n    return Object.keys(obj);\n  } else {\n    var keys = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        keys.push(key);\n      }\n    }\n    return keys;\n  }\n}\n\nfunction ArrayFrom(arrLike) {\n  var len = arrLike.length;\n  var list = [];\n  for (var i = 0; i < len; i++) {\n    list.push(arrLike[i]);\n  }\n  return list;\n}\n\nfunction noop() {}\n\nvar ImageCache = function () {\n  function ImageCache(_ref) {\n    var max = _ref.max;\n    classCallCheck(this, ImageCache);\n\n    this.options = {\n      max: max || 100\n    };\n    this._caches = [];\n  }\n\n  createClass(ImageCache, [{\n    key: 'has',\n    value: function has(key) {\n      return this._caches.indexOf(key) > -1;\n    }\n  }, {\n    key: 'add',\n    value: function add(key) {\n      if (this.has(key)) return;\n      this._caches.push(key);\n      if (this._caches.length > this.options.max) {\n        this.free();\n      }\n    }\n  }, {\n    key: 'free',\n    value: function free() {\n      this._caches.shift();\n    }\n  }]);\n  return ImageCache;\n}();\n\n// el: {\n//     state,\n//     src,\n//     error,\n//     loading\n// }\n\nvar ReactiveListener = function () {\n  function ReactiveListener(_ref) {\n    var el = _ref.el,\n        src = _ref.src,\n        error = _ref.error,\n        loading = _ref.loading,\n        bindType = _ref.bindType,\n        $parent = _ref.$parent,\n        options = _ref.options,\n        cors = _ref.cors,\n        elRenderer = _ref.elRenderer,\n        imageCache = _ref.imageCache;\n    classCallCheck(this, ReactiveListener);\n\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n\n    this.options = options;\n\n    this.rect = null;\n\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this._imageCache = imageCache;\n    this.performanceData = {\n      init: Date.now(),\n      loadStart: 0,\n      loadEnd: 0\n    };\n\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\r\n   * init listener state\r\n   * @return\r\n   */\n\n\n  createClass(ReactiveListener, [{\n    key: 'initState',\n    value: function initState() {\n      if ('dataset' in this.el) {\n        this.el.dataset.src = this.src;\n      } else {\n        this.el.setAttribute('data-src', this.src);\n      }\n\n      this.state = {\n        loading: false,\n        error: false,\n        loaded: false,\n        rendered: false\n      };\n    }\n\n    /*\r\n     * record performance\r\n     * @return\r\n     */\n\n  }, {\n    key: 'record',\n    value: function record(event) {\n      this.performanceData[event] = Date.now();\n    }\n\n    /*\r\n     * update image listener data\r\n     * @param  {String} image uri\r\n     * @param  {String} loading image uri\r\n     * @param  {String} error image uri\r\n     * @return\r\n     */\n\n  }, {\n    key: 'update',\n    value: function update(_ref2) {\n      var src = _ref2.src,\n          loading = _ref2.loading,\n          error = _ref2.error;\n\n      var oldSrc = this.src;\n      this.src = src;\n      this.loading = loading;\n      this.error = error;\n      this.filter();\n      if (oldSrc !== this.src) {\n        this.attempt = 0;\n        this.initState();\n      }\n    }\n\n    /*\r\n     * get el node rect\r\n     * @return\r\n     */\n\n  }, {\n    key: 'getRect',\n    value: function getRect() {\n      this.rect = this.el.getBoundingClientRect();\n    }\n\n    /*\r\n     *  check el is in view\r\n     * @return {Boolean} el is in view\r\n     */\n\n  }, {\n    key: 'checkInView',\n    value: function checkInView() {\n      this.getRect();\n      return this.rect.top < window.innerHeight * this.options.preLoad && this.rect.bottom > this.options.preLoadTop && this.rect.left < window.innerWidth * this.options.preLoad && this.rect.right > 0;\n    }\n\n    /*\r\n     * listener filter\r\n     */\n\n  }, {\n    key: 'filter',\n    value: function filter() {\n      var _this = this;\n\n      ObjectKeys(this.options.filter).map(function (key) {\n        _this.options.filter[key](_this, _this.options);\n      });\n    }\n\n    /*\r\n     * render loading first\r\n     * @params cb:Function\r\n     * @return\r\n     */\n\n  }, {\n    key: 'renderLoading',\n    value: function renderLoading(cb) {\n      var _this2 = this;\n\n      this.state.loading = true;\n      loadImageAsync({\n        src: this.loading,\n        cors: this.cors\n      }, function (data) {\n        _this2.render('loading', false);\n        _this2.state.loading = false;\n        cb();\n      }, function () {\n        // handler `loading image` load failed\n        cb();\n        _this2.state.loading = false;\n        if (!_this2.options.silent) console.warn('VueLazyload log: load failed with loading image(' + _this2.loading + ')');\n      });\n    }\n\n    /*\r\n     * try load image and  render it\r\n     * @return\r\n     */\n\n  }, {\n    key: 'load',\n    value: function load() {\n      var _this3 = this;\n\n      var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n      if (this.attempt > this.options.attempt - 1 && this.state.error) {\n        if (!this.options.silent) console.log('VueLazyload log: ' + this.src + ' tried too more than ' + this.options.attempt + ' times');\n        onFinish();\n        return;\n      }\n      if (this.state.rendered && this.state.loaded) return;\n      if (this._imageCache.has(this.src)) {\n        this.state.loaded = true;\n        this.render('loaded', true);\n        this.state.rendered = true;\n        return onFinish();\n      }\n\n      this.renderLoading(function () {\n        _this3.attempt++;\n\n        _this3.options.adapter['beforeLoad'] && _this3.options.adapter['beforeLoad'](_this3, _this3.options);\n        _this3.record('loadStart');\n\n        loadImageAsync({\n          src: _this3.src,\n          cors: _this3.cors\n        }, function (data) {\n          _this3.naturalHeight = data.naturalHeight;\n          _this3.naturalWidth = data.naturalWidth;\n          _this3.state.loaded = true;\n          _this3.state.error = false;\n          _this3.record('loadEnd');\n          _this3.render('loaded', false);\n          _this3.state.rendered = true;\n          _this3._imageCache.add(_this3.src);\n          onFinish();\n        }, function (err) {\n          !_this3.options.silent && console.error(err);\n          _this3.state.error = true;\n          _this3.state.loaded = false;\n          _this3.render('error', false);\n        });\n      });\n    }\n\n    /*\r\n     * render image\r\n     * @param  {String} state to render // ['loading', 'src', 'error']\r\n     * @param  {String} is form cache\r\n     * @return\r\n     */\n\n  }, {\n    key: 'render',\n    value: function render(state, cache) {\n      this.elRenderer(this, state, cache);\n    }\n\n    /*\r\n     * output performance data\r\n     * @return {Object} performance data\r\n     */\n\n  }, {\n    key: 'performance',\n    value: function performance() {\n      var state = 'loading';\n      var time = 0;\n\n      if (this.state.loaded) {\n        state = 'loaded';\n        time = (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n      }\n\n      if (this.state.error) state = 'error';\n\n      return {\n        src: this.src,\n        state: state,\n        time: time\n      };\n    }\n\n    /*\r\n     * $destroy\r\n     * @return\r\n     */\n\n  }, {\n    key: '$destroy',\n    value: function $destroy() {\n      this.el = null;\n      this.src = null;\n      this.error = null;\n      this.loading = null;\n      this.bindType = null;\n      this.attempt = 0;\n    }\n  }]);\n  return ReactiveListener;\n}();\n\nvar DEFAULT_URL = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nvar DEFAULT_EVENTS = ['scroll', 'wheel', 'mousewheel', 'resize', 'animationend', 'transitionend', 'touchmove'];\nvar DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0\n};\n\nfunction Lazy(Vue) {\n  return function () {\n    function Lazy(_ref) {\n      var preLoad = _ref.preLoad,\n          error = _ref.error,\n          throttleWait = _ref.throttleWait,\n          preLoadTop = _ref.preLoadTop,\n          dispatchEvent = _ref.dispatchEvent,\n          loading = _ref.loading,\n          attempt = _ref.attempt,\n          _ref$silent = _ref.silent,\n          silent = _ref$silent === undefined ? true : _ref$silent,\n          scale = _ref.scale,\n          listenEvents = _ref.listenEvents;\n          _ref.hasbind;\n          var filter = _ref.filter,\n          adapter = _ref.adapter,\n          observer = _ref.observer,\n          observerOptions = _ref.observerOptions;\n      classCallCheck(this, Lazy);\n\n      this.version = '\"1.3.5\"';\n      this.mode = modeType.event;\n      this.ListenerQueue = [];\n      this.TargetIndex = 0;\n      this.TargetQueue = [];\n      this.options = {\n        silent: silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        hasbind: false,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS\n      };\n      this._initEvent();\n      this._imageCache = new ImageCache({ max: 200 });\n      this.lazyLoadHandler = throttle(this._lazyLoadHandler.bind(this), this.options.throttleWait);\n\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\r\n     * update config\r\n     * @param  {Object} config params\r\n     * @return\r\n     */\n\n\n    createClass(Lazy, [{\n      key: 'config',\n      value: function config() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n        assignDeep(this.options, options);\n      }\n\n      /**\r\n       * output listener's load performance\r\n       * @return {Array}\r\n       */\n\n    }, {\n      key: 'performance',\n      value: function performance() {\n        var list = [];\n\n        this.ListenerQueue.map(function (item) {\n          list.push(item.performance());\n        });\n\n        return list;\n      }\n\n      /*\r\n       * add lazy component to queue\r\n       * @param  {Vue} vm lazy component instance\r\n       * @return\r\n       */\n\n    }, {\n      key: 'addLazyBox',\n      value: function addLazyBox(vm) {\n        this.ListenerQueue.push(vm);\n        if (inBrowser) {\n          this._addListenerTarget(window);\n          this._observer && this._observer.observe(vm.el);\n          if (vm.$el && vm.$el.parentNode) {\n            this._addListenerTarget(vm.$el.parentNode);\n          }\n        }\n      }\n\n      /*\r\n       * add image listener to queue\r\n       * @param  {DOM} el\r\n       * @param  {object} binding vue directive binding\r\n       * @param  {vnode} vnode vue directive vnode\r\n       * @return\r\n       */\n\n    }, {\n      key: 'add',\n      value: function add(el, binding, vnode) {\n        var _this = this;\n\n        if (some(this.ListenerQueue, function (item) {\n          return item.el === el;\n        })) {\n          this.update(el, binding);\n          return Vue.nextTick(this.lazyLoadHandler);\n        }\n\n        var _valueFormatter2 = this._valueFormatter(binding.value),\n            src = _valueFormatter2.src,\n            loading = _valueFormatter2.loading,\n            error = _valueFormatter2.error,\n            cors = _valueFormatter2.cors;\n\n        Vue.nextTick(function () {\n          src = getBestSelectionFromSrcset(el, _this.options.scale) || src;\n          _this._observer && _this._observer.observe(el);\n\n          var container = Object.keys(binding.modifiers)[0];\n          var $parent = void 0;\n\n          if (container) {\n            $parent = vnode.context.$refs[container];\n            // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n            $parent = $parent ? $parent.$el || $parent : document.getElementById(container);\n          }\n\n          if (!$parent) {\n            $parent = scrollParent(el);\n          }\n\n          var newListener = new ReactiveListener({\n            bindType: binding.arg,\n            $parent: $parent,\n            el: el,\n            loading: loading,\n            error: error,\n            src: src,\n            cors: cors,\n            elRenderer: _this._elRenderer.bind(_this),\n            options: _this.options,\n            imageCache: _this._imageCache\n          });\n\n          _this.ListenerQueue.push(newListener);\n\n          if (inBrowser) {\n            _this._addListenerTarget(window);\n            _this._addListenerTarget($parent);\n          }\n\n          _this.lazyLoadHandler();\n          Vue.nextTick(function () {\n            return _this.lazyLoadHandler();\n          });\n        });\n      }\n\n      /**\r\n      * update image src\r\n      * @param  {DOM} el\r\n      * @param  {object} vue directive binding\r\n      * @return\r\n      */\n\n    }, {\n      key: 'update',\n      value: function update(el, binding, vnode) {\n        var _this2 = this;\n\n        var _valueFormatter3 = this._valueFormatter(binding.value),\n            src = _valueFormatter3.src,\n            loading = _valueFormatter3.loading,\n            error = _valueFormatter3.error;\n\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n\n        var exist = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n        if (!exist) {\n          this.add(el, binding, vnode);\n        } else {\n          exist.update({\n            src: src,\n            loading: loading,\n            error: error\n          });\n        }\n        if (this._observer) {\n          this._observer.unobserve(el);\n          this._observer.observe(el);\n        }\n        this.lazyLoadHandler();\n        Vue.nextTick(function () {\n          return _this2.lazyLoadHandler();\n        });\n      }\n\n      /**\r\n      * remove listener form list\r\n      * @param  {DOM} el\r\n      * @return\r\n      */\n\n    }, {\n      key: 'remove',\n      value: function remove$1(el) {\n        if (!el) return;\n        this._observer && this._observer.unobserve(el);\n        var existItem = find(this.ListenerQueue, function (item) {\n          return item.el === el;\n        });\n        if (existItem) {\n          this._removeListenerTarget(existItem.$parent);\n          this._removeListenerTarget(window);\n          remove(this.ListenerQueue, existItem);\n          existItem.$destroy();\n        }\n      }\n\n      /*\r\n       * remove lazy components form list\r\n       * @param  {Vue} vm Vue instance\r\n       * @return\r\n       */\n\n    }, {\n      key: 'removeComponent',\n      value: function removeComponent(vm) {\n        if (!vm) return;\n        remove(this.ListenerQueue, vm);\n        this._observer && this._observer.unobserve(vm.el);\n        if (vm.$parent && vm.$el.parentNode) {\n          this._removeListenerTarget(vm.$el.parentNode);\n        }\n        this._removeListenerTarget(window);\n      }\n    }, {\n      key: 'setMode',\n      value: function setMode(mode) {\n        var _this3 = this;\n\n        if (!hasIntersectionObserver && mode === modeType.observer) {\n          mode = modeType.event;\n        }\n\n        this.mode = mode; // event or observer\n\n        if (mode === modeType.event) {\n          if (this._observer) {\n            this.ListenerQueue.forEach(function (listener) {\n              _this3._observer.unobserve(listener.el);\n            });\n            this._observer = null;\n          }\n\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, true);\n          });\n        } else {\n          this.TargetQueue.forEach(function (target) {\n            _this3._initListen(target.el, false);\n          });\n          this._initIntersectionObserver();\n        }\n      }\n\n      /*\r\n      *** Private functions ***\r\n      */\n\n      /*\r\n       * add listener target\r\n       * @param  {DOM} el listener target\r\n       * @return\r\n       */\n\n    }, {\n      key: '_addListenerTarget',\n      value: function _addListenerTarget(el) {\n        if (!el) return;\n        var target = find(this.TargetQueue, function (target) {\n          return target.el === el;\n        });\n        if (!target) {\n          target = {\n            el: el,\n            id: ++this.TargetIndex,\n            childrenCount: 1,\n            listened: true\n          };\n          this.mode === modeType.event && this._initListen(target.el, true);\n          this.TargetQueue.push(target);\n        } else {\n          target.childrenCount++;\n        }\n        return this.TargetIndex;\n      }\n\n      /*\r\n       * remove listener target or reduce target childrenCount\r\n       * @param  {DOM} el or window\r\n       * @return\r\n       */\n\n    }, {\n      key: '_removeListenerTarget',\n      value: function _removeListenerTarget(el) {\n        var _this4 = this;\n\n        this.TargetQueue.forEach(function (target, index) {\n          if (target.el === el) {\n            target.childrenCount--;\n            if (!target.childrenCount) {\n              _this4._initListen(target.el, false);\n              _this4.TargetQueue.splice(index, 1);\n              target = null;\n            }\n          }\n        });\n      }\n\n      /*\r\n       * add or remove eventlistener\r\n       * @param  {DOM} el DOM or Window\r\n       * @param  {boolean} start flag\r\n       * @return\r\n       */\n\n    }, {\n      key: '_initListen',\n      value: function _initListen(el, start) {\n        var _this5 = this;\n\n        this.options.ListenEvents.forEach(function (evt) {\n          return _[start ? 'on' : 'off'](el, evt, _this5.lazyLoadHandler);\n        });\n      }\n    }, {\n      key: '_initEvent',\n      value: function _initEvent() {\n        var _this6 = this;\n\n        this.Event = {\n          listeners: {\n            loading: [],\n            loaded: [],\n            error: []\n          }\n        };\n\n        this.$on = function (event, func) {\n          if (!_this6.Event.listeners[event]) _this6.Event.listeners[event] = [];\n          _this6.Event.listeners[event].push(func);\n        };\n\n        this.$once = function (event, func) {\n          var vm = _this6;\n          function on() {\n            vm.$off(event, on);\n            func.apply(vm, arguments);\n          }\n          _this6.$on(event, on);\n        };\n\n        this.$off = function (event, func) {\n          if (!func) {\n            if (!_this6.Event.listeners[event]) return;\n            _this6.Event.listeners[event].length = 0;\n            return;\n          }\n          remove(_this6.Event.listeners[event], func);\n        };\n\n        this.$emit = function (event, context, inCache) {\n          if (!_this6.Event.listeners[event]) return;\n          _this6.Event.listeners[event].forEach(function (func) {\n            return func(context, inCache);\n          });\n        };\n      }\n\n      /**\r\n       * find nodes which in viewport and trigger load\r\n       * @return\r\n       */\n\n    }, {\n      key: '_lazyLoadHandler',\n      value: function _lazyLoadHandler() {\n        var _this7 = this;\n\n        var freeList = [];\n        this.ListenerQueue.forEach(function (listener, index) {\n          if (!listener.el || !listener.el.parentNode) {\n            freeList.push(listener);\n          }\n          var catIn = listener.checkInView();\n          if (!catIn) return;\n          listener.load();\n        });\n        freeList.forEach(function (item) {\n          remove(_this7.ListenerQueue, item);\n          item.$destroy();\n        });\n      }\n      /**\r\n      * init IntersectionObserver\r\n      * set mode to observer\r\n      * @return\r\n      */\n\n    }, {\n      key: '_initIntersectionObserver',\n      value: function _initIntersectionObserver() {\n        var _this8 = this;\n\n        if (!hasIntersectionObserver) return;\n        this._observer = new IntersectionObserver(this._observerHandler.bind(this), this.options.observerOptions);\n        if (this.ListenerQueue.length) {\n          this.ListenerQueue.forEach(function (listener) {\n            _this8._observer.observe(listener.el);\n          });\n        }\n      }\n\n      /**\r\n      * init IntersectionObserver\r\n      * @return\r\n      */\n\n    }, {\n      key: '_observerHandler',\n      value: function _observerHandler(entries, observer) {\n        var _this9 = this;\n\n        entries.forEach(function (entry) {\n          if (entry.isIntersecting) {\n            _this9.ListenerQueue.forEach(function (listener) {\n              if (listener.el === entry.target) {\n                if (listener.state.loaded) return _this9._observer.unobserve(listener.el);\n                listener.load();\n              }\n            });\n          }\n        });\n      }\n\n      /**\r\n      * set element attribute with image'url and state\r\n      * @param  {object} lazyload listener object\r\n      * @param  {string} state will be rendered\r\n      * @param  {bool} inCache  is rendered from cache\r\n      * @return\r\n      */\n\n    }, {\n      key: '_elRenderer',\n      value: function _elRenderer(listener, state, cache) {\n        if (!listener.el) return;\n        var el = listener.el,\n            bindType = listener.bindType;\n\n\n        var src = void 0;\n        switch (state) {\n          case 'loading':\n            src = listener.loading;\n            break;\n          case 'error':\n            src = listener.error;\n            break;\n          default:\n            src = listener.src;\n            break;\n        }\n\n        if (bindType) {\n          el.style[bindType] = 'url(\"' + src + '\")';\n        } else if (el.getAttribute('src') !== src) {\n          el.setAttribute('src', src);\n        }\n\n        el.setAttribute('lazy', state);\n\n        this.$emit(state, listener, cache);\n        this.options.adapter[state] && this.options.adapter[state](listener, this.options);\n\n        if (this.options.dispatchEvent) {\n          var event = new CustomEvent(state, {\n            detail: listener\n          });\n          el.dispatchEvent(event);\n        }\n      }\n\n      /**\r\n      * generate loading loaded error image url\r\n      * @param {string} image's src\r\n      * @return {object} image's loading, loaded, error url\r\n      */\n\n    }, {\n      key: '_valueFormatter',\n      value: function _valueFormatter(value) {\n        var src = value;\n        var loading = this.options.loading;\n        var error = this.options.error;\n\n        // value is object\n        if (isObject(value)) {\n          if (!value.src && !this.options.silent) console.error('Vue Lazyload warning: miss src with ' + value);\n          src = value.src;\n          loading = value.loading || this.options.loading;\n          error = value.error || this.options.error;\n        }\n        return {\n          src: src,\n          loading: loading,\n          error: error\n        };\n      }\n    }]);\n    return Lazy;\n  }();\n}\n\nLazy.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n\n  var isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy', {\n      bind: lazy.add.bind(lazy),\n      update: lazy.update.bind(lazy),\n      componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n      unbind: lazy.remove.bind(lazy)\n    });\n  } else {\n    Vue.directive('lazy', {\n      bind: lazy.lazyLoadHandler.bind(lazy),\n      update: function update(newValue, oldValue) {\n        assignDeep(this.vm.$refs, this.vm.$els);\n        lazy.add(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind: function unbind() {\n        lazy.remove(this.el);\n      }\n    });\n  }\n};\n\nvar LazyComponent = function LazyComponent(lazy) {\n  return {\n    props: {\n      tag: {\n        type: String,\n        default: 'div'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, null, this.show ? this.$slots.default : null);\n    },\n    data: function data() {\n      return {\n        el: null,\n        state: {\n          loaded: false\n        },\n        rect: {},\n        show: false\n      };\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazy.addLazyBox(this);\n      lazy.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazy.removeComponent(this);\n    },\n\n    methods: {\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazy.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazy.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        this.show = true;\n        this.state.loaded = true;\n        this.$emit('show', this);\n      },\n      destroy: function destroy() {\n        return this.$destroy;\n      }\n    }\n  };\n};\n\nLazyComponent.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  Vue.component('lazy-component', LazyComponent(lazy));\n};\n\nvar LazyContainerMananger = function () {\n  function LazyContainerMananger(_ref) {\n    var lazy = _ref.lazy;\n    classCallCheck(this, LazyContainerMananger);\n\n    this.lazy = lazy;\n    lazy.lazyContainerMananger = this;\n    this._queue = [];\n  }\n\n  createClass(LazyContainerMananger, [{\n    key: 'bind',\n    value: function bind(el, binding, vnode) {\n      var container = new LazyContainer({ el: el, binding: binding, vnode: vnode, lazy: this.lazy });\n      this._queue.push(container);\n    }\n  }, {\n    key: 'update',\n    value: function update(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.update({ el: el, binding: binding, vnode: vnode });\n    }\n  }, {\n    key: 'unbind',\n    value: function unbind(el, binding, vnode) {\n      var container = find(this._queue, function (item) {\n        return item.el === el;\n      });\n      if (!container) return;\n      container.clear();\n      remove(this._queue, container);\n    }\n  }]);\n  return LazyContainerMananger;\n}();\n\n\nvar defaultOptions = {\n  selector: 'img'\n};\n\nvar LazyContainer = function () {\n  function LazyContainer(_ref2) {\n    var el = _ref2.el,\n        binding = _ref2.binding,\n        vnode = _ref2.vnode,\n        lazy = _ref2.lazy;\n    classCallCheck(this, LazyContainer);\n\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n\n    this._queue = [];\n    this.update({ el: el, binding: binding });\n  }\n\n  createClass(LazyContainer, [{\n    key: 'update',\n    value: function update(_ref3) {\n      var _this = this;\n\n      var el = _ref3.el,\n          binding = _ref3.binding;\n\n      this.el = el;\n      this.options = assignDeep({}, defaultOptions, binding.value);\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        _this.lazy.add(el, assignDeep({}, _this.binding, {\n          value: {\n            src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n            error: ('dataset' in el ? el.dataset.error : el.getAttribute('data-error')) || _this.options.error,\n            loading: ('dataset' in el ? el.dataset.loading : el.getAttribute('data-loading')) || _this.options.loading\n          }\n        }), _this.vnode);\n      });\n    }\n  }, {\n    key: 'getImgs',\n    value: function getImgs() {\n      return ArrayFrom(this.el.querySelectorAll(this.options.selector));\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var _this2 = this;\n\n      var imgs = this.getImgs();\n      imgs.forEach(function (el) {\n        return _this2.lazy.remove(el);\n      });\n\n      this.vnode = null;\n      this.binding = null;\n      this.lazy = null;\n    }\n  }]);\n  return LazyContainer;\n}();\n\nLazyContainer.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  var lazyContainer = new LazyContainer({ lazy: lazy });\n\n  var isVue2 = Vue.version.split('.')[0] === '2';\n  if (isVue2) {\n    Vue.directive('lazy-container', {\n      bind: lazyContainer.bind.bind(lazyContainer),\n      componentUpdated: lazyContainer.update.bind(lazyContainer),\n      unbind: lazyContainer.unbind.bind(lazyContainer)\n    });\n  } else {\n    Vue.directive('lazy-container', {\n      update: function update(newValue, oldValue) {\n        lazyContainer.update(this.el, {\n          modifiers: this.modifiers || {},\n          arg: this.arg,\n          value: newValue,\n          oldValue: oldValue\n        }, {\n          context: this.vm\n        });\n      },\n      unbind: function unbind() {\n        lazyContainer.unbind(this.el);\n      }\n    });\n  }\n};\n\nvar LazyImage = function LazyImage(lazyManager) {\n  return {\n    props: {\n      src: [String, Object],\n      tag: {\n        type: String,\n        default: 'img'\n      }\n    },\n    render: function render(h) {\n      return h(this.tag, {\n        attrs: {\n          src: this.renderSrc\n        }\n      }, this.$slots.default);\n    },\n    data: function data() {\n      return {\n        el: null,\n        options: {\n          src: '',\n          error: '',\n          loading: '',\n          attempt: lazyManager.options.attempt\n        },\n        state: {\n          loaded: false,\n          error: false,\n          attempt: 0\n        },\n        rect: {},\n        renderSrc: ''\n      };\n    },\n\n    watch: {\n      src: function src() {\n        this.init();\n        lazyManager.addLazyBox(this);\n        lazyManager.lazyLoadHandler();\n      }\n    },\n    created: function created() {\n      this.init();\n      this.renderSrc = this.options.loading;\n    },\n    mounted: function mounted() {\n      this.el = this.$el;\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n    beforeDestroy: function beforeDestroy() {\n      lazyManager.removeComponent(this);\n    },\n\n    methods: {\n      init: function init() {\n        var _lazyManager$_valueFo = lazyManager._valueFormatter(this.src),\n            src = _lazyManager$_valueFo.src,\n            loading = _lazyManager$_valueFo.loading,\n            error = _lazyManager$_valueFo.error;\n\n        this.state.loaded = false;\n        this.options.src = src;\n        this.options.error = error;\n        this.options.loading = loading;\n        this.renderSrc = this.options.loading;\n      },\n      getRect: function getRect() {\n        this.rect = this.$el.getBoundingClientRect();\n      },\n      checkInView: function checkInView() {\n        this.getRect();\n        return inBrowser && this.rect.top < window.innerHeight * lazyManager.options.preLoad && this.rect.bottom > 0 && this.rect.left < window.innerWidth * lazyManager.options.preLoad && this.rect.right > 0;\n      },\n      load: function load() {\n        var _this = this;\n\n        var onFinish = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;\n\n        if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n          if (!lazyManager.options.silent) console.log('VueLazyload log: ' + this.options.src + ' tried too more than ' + this.options.attempt + ' times');\n          onFinish();\n          return;\n        }\n        var src = this.options.src;\n        loadImageAsync({ src: src }, function (_ref) {\n          var src = _ref.src;\n\n          _this.renderSrc = src;\n          _this.state.loaded = true;\n        }, function (e) {\n          _this.state.attempt++;\n          _this.renderSrc = _this.options.error;\n          _this.state.error = true;\n        });\n      }\n    }\n  };\n};\n\nLazyImage.install = function (Vue) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var LazyClass = Lazy(Vue);\n  var lazy = new LazyClass(options);\n  Vue.component('lazy-image', LazyImage(lazy));\n};\n\nvar index = {\n  /*\r\n  * install function\r\n  * @param  {Vue} Vue\r\n  * @param  {object} options  lazyload options\r\n  */\n  install: function install(Vue) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var LazyClass = Lazy(Vue);\n    var lazy = new LazyClass(options);\n    var lazyContainer = new LazyContainerMananger({ lazy: lazy });\n\n    var isVue2 = Vue.version.split('.')[0] === '2';\n\n    Vue.prototype.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      Vue.component('lazy-component', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      Vue.component('lazy-image', LazyImage(lazy));\n    }\n\n    if (isVue2) {\n      Vue.directive('lazy', {\n        bind: lazy.add.bind(lazy),\n        update: lazy.update.bind(lazy),\n        componentUpdated: lazy.lazyLoadHandler.bind(lazy),\n        unbind: lazy.remove.bind(lazy)\n      });\n      Vue.directive('lazy-container', {\n        bind: lazyContainer.bind.bind(lazyContainer),\n        componentUpdated: lazyContainer.update.bind(lazyContainer),\n        unbind: lazyContainer.unbind.bind(lazyContainer)\n      });\n    } else {\n      Vue.directive('lazy', {\n        bind: lazy.lazyLoadHandler.bind(lazy),\n        update: function update(newValue, oldValue) {\n          assignDeep(this.vm.$refs, this.vm.$els);\n          lazy.add(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazy.remove(this.el);\n        }\n      });\n\n      Vue.directive('lazy-container', {\n        update: function update(newValue, oldValue) {\n          lazyContainer.update(this.el, {\n            modifiers: this.modifiers || {},\n            arg: this.arg,\n            value: newValue,\n            oldValue: oldValue\n          }, {\n            context: this.vm\n          });\n        },\n        unbind: function unbind() {\n          lazyContainer.unbind(this.el);\n        }\n      });\n    }\n  }\n};\n\nexport { Lazy, LazyComponent, LazyContainerMananger as LazyContainer, LazyImage, index as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}