{"ast":null,"code":"import { Promise } from \"core-js\";\nimport { reqGoodsInfo } from \"../../api\";\nimport { reqAddOrUpdateShopCar } from \"../../api\";\nimport { getUUID } from '../../util/uuid_token';\nconst actions = {\n  async getGoodInfo({\n    commit\n  }, skuId) {\n    let result = await reqGoodsInfo(skuId);\n    if (result.code == 200) {\n      commit(\"getGoodInfo\", result.data);\n    }\n  },\n  //添加购物车\n  //返回一个promise--async\n  async addOrUpdateShopCar({\n    commit\n  }, {\n    skuId,\n    skuNum\n  }) {\n    //存储数据，服务器没有返回多余的数据--不需要三连环\n    const result = await reqAddOrUpdateShopCar(skuId, skuNum);\n    if (result.code == 200) {\n      return 'ok';\n    } else {\n      return Promise.reject(new Error('faile'));\n    }\n  }\n};\nconst mutations = {\n  getGoodInfo(state, data) {\n    state.goodInfo = data;\n  }\n};\nconst state = {\n  goodInfo: {},\n  //游客临时身份\n  uuid_token: getUUID()\n};\nconst getters = {\n  categoryView(state) {\n    //数据没有回来undefined 至少是返回一个空对象\n    return state.goodInfo.categoryView || {};\n  },\n  skuInfo(state) {\n    return state.goodInfo.skuInfo || {};\n  },\n  spuSaleAttrList(state) {\n    return state.goodInfo.spuSaleAttrList || [];\n  }\n};\nexport default {\n  actions,\n  mutations,\n  state,\n  getters\n};","map":{"version":3,"names":["Promise","reqGoodsInfo","reqAddOrUpdateShopCar","getUUID","actions","getGoodInfo","commit","skuId","result","code","data","addOrUpdateShopCar","skuNum","reject","Error","mutations","state","goodInfo","uuid_token","getters","categoryView","skuInfo","spuSaleAttrList"],"sources":["D:/MyProject/pro_sph/src/store/detail/index.js"],"sourcesContent":["import { Promise } from \"core-js\"\r\nimport {reqGoodsInfo} from \"../../api\"\r\nimport {reqAddOrUpdateShopCar} from \"../../api\"\r\nimport {getUUID} from '../../util/uuid_token'\r\nconst actions={\r\n   async getGoodInfo({commit},skuId){\r\n       let result= await reqGoodsInfo(skuId)\r\n       if(result.code==200){\r\n        commit(\"getGoodInfo\",result.data)\r\n       }\r\n    },\r\n    //添加购物车\r\n    //返回一个promise--async\r\n   async addOrUpdateShopCar({commit},{skuId,skuNum}){\r\n        //存储数据，服务器没有返回多余的数据--不需要三连环\r\n        const result= await reqAddOrUpdateShopCar(skuId,skuNum)\r\n        if(result.code==200){\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    }\r\n}\r\nconst mutations={\r\n    getGoodInfo(state,data){\r\n        state.goodInfo=data\r\n    }\r\n}\r\nconst state={\r\n    goodInfo:{},\r\n    //游客临时身份\r\n    uuid_token:getUUID()\r\n}\r\nconst getters={\r\n    categoryView(state){\r\n        //数据没有回来undefined 至少是返回一个空对象\r\n        return state.goodInfo.categoryView || {}\r\n    },\r\n    skuInfo(state){\r\n        return state.goodInfo.skuInfo || {}\r\n    },\r\n    spuSaleAttrList(state){\r\n        return state.goodInfo.spuSaleAttrList || []\r\n    }\r\n}\r\nexport default{\r\n    actions,\r\n    mutations,\r\n    state,\r\n    getters\r\n}"],"mappings":"AAAA,SAASA,OAAO,QAAQ,SAAS;AACjC,SAAQC,YAAY,QAAO,WAAW;AACtC,SAAQC,qBAAqB,QAAO,WAAW;AAC/C,SAAQC,OAAO,QAAO,uBAAuB;AAC7C,MAAMC,OAAO,GAAC;EACX,MAAMC,WAAWA,CAAC;IAACC;EAAM,CAAC,EAACC,KAAK,EAAC;IAC7B,IAAIC,MAAM,GAAE,MAAMP,YAAY,CAACM,KAAK,CAAC;IACrC,IAAGC,MAAM,CAACC,IAAI,IAAE,GAAG,EAAC;MACnBH,MAAM,CAAC,aAAa,EAACE,MAAM,CAACE,IAAI,CAAC;IAClC;EACH,CAAC;EACD;EACA;EACD,MAAMC,kBAAkBA,CAAC;IAACL;EAAM,CAAC,EAAC;IAACC,KAAK;IAACK;EAAM,CAAC,EAAC;IAC5C;IACA,MAAMJ,MAAM,GAAE,MAAMN,qBAAqB,CAACK,KAAK,EAACK,MAAM,CAAC;IACvD,IAAGJ,MAAM,CAACC,IAAI,IAAE,GAAG,EAAC;MAChB,OAAO,IAAI;IACf,CAAC,MAAI;MACD,OAAOT,OAAO,CAACa,MAAM,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC7C;EACJ;AACJ,CAAC;AACD,MAAMC,SAAS,GAAC;EACZV,WAAWA,CAACW,KAAK,EAACN,IAAI,EAAC;IACnBM,KAAK,CAACC,QAAQ,GAACP,IAAI;EACvB;AACJ,CAAC;AACD,MAAMM,KAAK,GAAC;EACRC,QAAQ,EAAC,CAAC,CAAC;EACX;EACAC,UAAU,EAACf,OAAO,CAAC;AACvB,CAAC;AACD,MAAMgB,OAAO,GAAC;EACVC,YAAYA,CAACJ,KAAK,EAAC;IACf;IACA,OAAOA,KAAK,CAACC,QAAQ,CAACG,YAAY,IAAI,CAAC,CAAC;EAC5C,CAAC;EACDC,OAAOA,CAACL,KAAK,EAAC;IACV,OAAOA,KAAK,CAACC,QAAQ,CAACI,OAAO,IAAI,CAAC,CAAC;EACvC,CAAC;EACDC,eAAeA,CAACN,KAAK,EAAC;IAClB,OAAOA,KAAK,CAACC,QAAQ,CAACK,eAAe,IAAI,EAAE;EAC/C;AACJ,CAAC;AACD,eAAc;EACVlB,OAAO;EACPW,SAAS;EACTC,KAAK;EACLG;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}